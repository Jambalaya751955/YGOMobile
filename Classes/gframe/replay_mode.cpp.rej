--- replay_mode.cpp
+++ replay_mode.cpp
@@ -74,10 +77,19 @@
 	} else {
 		cur_replay.ReadName(mainGame->dInfo.hostname);
 		cur_replay.ReadName(mainGame->dInfo.clientname);
+		mainGame->dInfo.isTag = false;
+	}
+	if(rh.flag & REPLAY_SINGLE_MODE) {
+		set_script_reader((script_reader)SingleMode::ScriptReader);
+		set_card_reader((card_reader)DataManager::CardReader);
+		set_message_handler((message_handler)MessageHandler);
+		mainGame->dInfo.isSingleMode = true;
+	} else {
+		set_script_reader(default_script_reader);
+		set_card_reader((card_reader)DataManager::CardReader);
+		set_message_handler((message_handler)MessageHandler);
+		mainGame->dInfo.isSingleMode = false;
 	}
-	set_script_reader(default_script_reader);
-	set_card_reader((card_reader)DataManager::CardReader);
-	set_message_handler((message_handler)MessageHandler);
 	pduel = create_duel(rnd.rand());
 	int start_lp = cur_replay.ReadInt32();
 	int start_hand = cur_replay.ReadInt32();
